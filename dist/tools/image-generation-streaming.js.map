{"version":3,"file":"image-generation-streaming.js","sourceRoot":"","sources":["../../src/tools/image-generation-streaming.ts"],"names":[],"mappings":"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"}